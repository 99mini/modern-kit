"use strict";(self.webpackChunk_modern_kit_docs=self.webpackChunk_modern_kit_docs||[]).push([[811],{8244:(e,t,n)=>{n.r(t),n.d(t,{Example:()=>p,assets:()=>u,contentTitle:()=>l,default:()=>m,frontMatter:()=>s,metadata:()=>d,toc:()=>f});var o=n(1986),r=n(9937),i=n(384),c=n(7800);const a=n.p+"assets/images/react-ae427fdb9d33efc24fa0dec698c3dfab.png",s={},l="useClipboard",d={id:"react/hooks/useClipboard",title:"useClipboard",description:"\ud14d\uc2a4\ud2b8, \uc774\ubbf8\uc9c0\ub97c \ud074\ub9bd\ubcf4\ub4dc\ub85c \ubcf5\uc0ac\ud558\ub294 \ud568\uc218\ub97c \uc81c\uacf5\ud558\ub294 \ucee4\uc2a4\ud140 \ud6c5\uc785\ub2c8\ub2e4.",source:"@site/docs/react/hooks/useClipboard.mdx",sourceDirName:"react/hooks",slug:"/react/hooks/useClipboard",permalink:"/modern-kit/docs/react/hooks/useClipboard",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"useBlockPromiseMultipleClick",permalink:"/modern-kit/docs/react/hooks/useBlockPromiseMultipleClick"},next:{title:"useDebounce",permalink:"/modern-kit/docs/react/hooks/useDebounce"}},u={},p=()=>{const e={br:"br",button:"button",div:"div",img:"img",input:"input",...(0,r.a)()},{copiedData:t,copyText:n,copyImage:s}=(0,i.VP)(),[l,d]=(0,c.useState)("");return(0,c.useEffect)((()=>{console.log(t)}),[t]),(0,o.jsxs)(e.div,{children:[(0,o.jsxs)(e.div,{children:[(0,o.jsx)(e.input,{type:"text",value:l,onChange:e=>d(e.target.value)}),(0,o.jsx)(e.button,{onClick:async()=>{await n(l),alert("\ud074\ub9bd\ubcf4\ub4dc\uc5d0 \ubcf5\uc0ac\ub410\uc2b5\ub2c8\ub2e4.")},children:"\ud14d\uc2a4\ud2b8 \ud074\ub9bd\ubcf4\ub4dc \ubcf5\uc0ac"})]}),(0,o.jsx)(e.br,{}),(0,o.jsxs)(e.div,{children:[(0,o.jsx)(e.img,{src:a,alt:"\uc774\ubbf8\uc9c0",width:120,height:120}),(0,o.jsx)(e.button,{onClick:async()=>{await s({src:a}),alert("\ud074\ub9bd\ubcf4\ub4dc\uc5d0 \ubcf5\uc0ac\ub410\uc2b5\ub2c8\ub2e4.")},children:"\uc774\ubbf8\uc9c0 \ud074\ub9bd\ubcf4\ub4dc \ubcf5\uc0ac"})]})]})},f=[{value:"Code",id:"code",level:2},{value:"Interface",id:"interface",level:2},{value:"Usage",id:"usage",level:2},{value:"Example",id:"example",level:2}];function h(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,r.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"useclipboard",children:"useClipboard"}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.code,{children:"\ud14d\uc2a4\ud2b8"}),", ",(0,o.jsx)(t.code,{children:"\uc774\ubbf8\uc9c0"}),"\ub97c \ud074\ub9bd\ubcf4\ub4dc\ub85c \ubcf5\uc0ac\ud558\ub294 \ud568\uc218\ub97c \uc81c\uacf5\ud558\ub294 \ucee4\uc2a4\ud140 \ud6c5\uc785\ub2c8\ub2e4."]}),"\n",(0,o.jsxs)(t.p,{children:["\ubcf5\uc0ac\ub41c \ub370\uc774\ud130\ub294 ",(0,o.jsx)(t.code,{children:"copiedData"})," \uc0c1\ud0dc\uc5d0 \uc800\uc7a5\ub429\ub2c8\ub2e4. ",(0,o.jsx)(t.code,{children:"copyText"}),"\uc640 ",(0,o.jsx)(t.code,{children:"copyImage"}),"\ub294 ",(0,o.jsx)(t.code,{children:"\uc131\uacf5 \uc5ec\ubd80(Boolean)"}),"\ub97c \ubc18\ud658\ud569\ub2c8\ub2e4."]}),"\n",(0,o.jsxs)(t.p,{children:["\ud83d\udca1 \ud14d\uc2a4\ud2b8\uc758 \uacbd\uc6b0 ",(0,o.jsx)(t.strong,{children:(0,o.jsx)(t.a,{href:"https://modern-agile-team.github.io/modern-kit/docs/utils/file/clipboardTextCopy",children:"clipboardTextCopy"})})," \ud568\uc218\uac00 \ud638\ucd9c\ub418\uba70, \uc774\ubbf8\uc9c0\uc758 \uacbd\uc6b0 ",(0,o.jsx)(t.strong,{children:(0,o.jsx)(t.a,{href:"https://modern-agile-team.github.io/modern-kit/docs/utils/file/clipboardImageCopy",children:"clipboardImageCopy"})})," \ud568\uc218\uac00 \ud638\ucd9c\ub429\ub2c8\ub2e4."]}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)(t.h2,{id:"code",children:"Code"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.a,{href:"https://github.com/modern-agile-team/modern-kit/blob/main/packages/react/src/hooks/useClipboard/index.ts",children:"\ud83d\udd17 \uc2e4\uc81c \uad6c\ud604 \ucf54\ub4dc \ud655\uc778"})}),"\n",(0,o.jsx)(t.h2,{id:"interface",children:"Interface"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ts",metastring:'title="typescript"',children:"type CopiedData = string | Blob | null;\n\n// Parameters<typeof clipboardImageCopy>[0]\ninterface ClipboardImageCopyProps {\n  src: string;\n  toText?: boolean;\n} \n\nconst useClipboard: () => {\n  copiedData: CopiedData;\n  copyText: (value: string) => Promise<boolean>;\n  copyImage: ({\n    src,\n    toText, // default: false\n  }: Parameters<typeof clipboardImageCopy>[0]) => Promise<boolean>;\n};\n"})}),"\n",(0,o.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-tsx",metastring:'title="typescript"',children:'import { useClipboard } from \'@modern-kit/react\';\nimport img from \'../../assets/img.png\';\n\nconst Example = () => {\n  const { copiedData, copyText, copyImage } = useClipboard();\n  const [text, setText] = useState(\'\');\n\n  const handleCopyText = async () => {\n    await copyText(text);\n    alert("\ud074\ub9bd\ubcf4\ub4dc\uc5d0 \ubcf5\uc0ac\ub410\uc2b5\ub2c8\ub2e4.");\n  };\n\n  const handleCopyImage = async () => {\n    await copyImage({ src: img });\n    alert("\ud074\ub9bd\ubcf4\ub4dc\uc5d0 \ubcf5\uc0ac\ub410\uc2b5\ub2c8\ub2e4.");\n  };\n\n  useEffect(() => {\n    console.log(copiedData);\n  }, [copiedData]);\n\n  return (\n    <div>\n      <div>\n        <input\n          type="text"\n          value={text}\n          onChange={(e) => setText(e.target.value)}\n        />\n        <button onClick={handleCopyText}>\ud14d\uc2a4\ud2b8 \ud074\ub9bd\ubcf4\ub4dc \ubcf5\uc0ac</button>\n      </div>\n      <br />\n      <div>\n        <img src={img} alt="\uc774\ubbf8\uc9c0" width={120} height={120} />\n        <button onClick={handleCopyImage}>\uc774\ubbf8\uc9c0 \ud074\ub9bd\ubcf4\ub4dc \ubcf5\uc0ac</button>\n      </div>\n    </div>\n  );\n};\n'})}),"\n",(0,o.jsx)(t.h2,{id:"example",children:"Example"}),"\n","\n",(0,o.jsx)(p,{})]})}function m(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},9937:(e,t,n)=>{n.d(t,{Z:()=>a,a:()=>c});var o=n(7800);const r={},i=o.createContext(r);function c(e){const t=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),o.createElement(i.Provider,{value:t},e.children)}},384:(e,t,n)=>{n.d(t,{D9:()=>X,Hk:()=>q,Mm:()=>G,Nr:()=>S,VP:()=>J,ac:()=>Q,df:()=>A,iP:()=>te,nA:()=>Z,uM:()=>D,wY:()=>H,yU:()=>ee});var o=n(7800),r=n(1986),i=(n(4041),"object"==typeof global&&global&&global.Object===Object&&global),c="object"==typeof self&&self&&self.Object===Object&&self,a=i||c||Function("return this")(),s=a.Symbol,l=Object.prototype,d=l.hasOwnProperty,u=l.toString,p=s?s.toStringTag:void 0,f=Object.prototype.toString,h="[object Null]",m="[object Undefined]",g=s?s.toStringTag:void 0;var b="[object Symbol]",v=/\s/,y=/^\s+/;function x(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var w=NaN,j=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,k=/^0o[0-7]+$/i,E=parseInt;function O(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&function(e){return null==e?void 0===e?m:h:g&&g in Object(e)?function(e){var t=d.call(e,p),n=e[p];try{e[p]=void 0;var o=!0}catch(e){}var r=u.call(e);return o&&(t?e[p]=n:delete e[p]),r}(e):function(e){return f.call(e)}(e)}(e)==b}(e))return w;if(x(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=x(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&v.test(e.charAt(t)););return t}(e)+1).replace(y,""):e}(e);var n=C.test(e);return n||k.test(e)?E(e.slice(2),n?2:8):j.test(e)?w:+e}var T=function(){return a.Date.now()},I=Math.max,M=Math.min;const P=e=>{const t=(0,o.useRef)(e);return(0,o.useEffect)((()=>{t.current=e}),[e]),(0,o.useCallback)(((...e)=>t.current(...e)),[])},S=(e,t,n={})=>{const r=P(e),i=(0,o.useMemo)((()=>function(e,t,n){var o,r,i,c,a,s,l=0,d=!1,u=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=o,i=r;return o=r=void 0,l=t,c=e.apply(i,n)}function h(e){var n=e-s;return void 0===s||n>=t||n<0||u&&e-l>=i}function m(){var e=T();if(h(e))return g(e);a=setTimeout(m,function(e){var n=t-(e-s);return u?M(n,i-(e-l)):n}(e))}function g(e){return a=void 0,p&&o?f(e):(o=r=void 0,c)}function b(){var e=T(),n=h(e);if(o=arguments,r=this,s=e,n){if(void 0===a)return function(e){return l=e,a=setTimeout(m,t),d?f(e):c}(s);if(u)return clearTimeout(a),a=setTimeout(m,t),f(s)}return void 0===a&&(a=setTimeout(m,t)),c}return t=O(t)||0,x(n)&&(d=!!n.leading,i=(u="maxWait"in n)?I(O(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==a&&clearTimeout(a),l=0,o=s=r=a=void 0},b.flush=function(){return void 0===a?c:g(T())},b}(r,t,n)),[r,t,n]);return(e=>{const t=P(e);(0,o.useEffect)((()=>()=>t()),[t])})((()=>i.cancel())),i},D=({children:e,capture:t,wait:n,options:r})=>{const i=o.Children.only(e),c=S(((...e)=>{const n=null==i?void 0:i.props;if(n)return"function"==typeof n[t]?n[t](...e):void 0}),n,r);return(0,o.cloneElement)(i,{[t]:c})};function R(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}function N(e,t,n,o){return new(n||(n=Promise))((function(r,i){function c(e){try{s(o.next(e))}catch(e){i(e)}}function a(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}s((o=o.apply(e,t||[])).next())}))}function F(e,t,n,o){return new(n||(n=Promise))((function(t,r){function i(e){try{a(o.next(e))}catch(e){r(e)}}function c(e){try{a(o.throw(e))}catch(e){r(e)}}function a(e){var o;e.done?t(e.value):(o=e.value,o instanceof n?o:new n((function(e){e(o)}))).then(i,c)}a((o=o.apply(e,[])).next())}))}"function"==typeof SuppressedError&&SuppressedError,"function"==typeof SuppressedError&&SuppressedError;const $={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",webp:"image/webp"},L=()=>"undefined"==typeof window&&"undefined"!=typeof global,_=()=>!L(),z=e=>F(void 0,0,void 0,(function*(){if(!_())throw new Error("Cannot be executed unless it is a client environment.");try{return"clipboard"in window.navigator?(yield navigator.clipboard.writeText(e),e):(e=>{const t=document.createElement("textarea");t.value=e,t.style.opacity="0",document.body.appendChild(t),t.focus(),t.select();try{return document.execCommand("copy"),e}catch(e){throw console.error(`Copying to the clipboard failed. message: ${e.message}`),e}finally{document.body.removeChild(t)}})(e)}catch(e){throw console.error(`Copying to the clipboard failed. message: ${e.message}`),e}})),B=e=>F(void 0,0,void 0,(function*(){const t=yield fetch(e),n=yield t.text();return yield z(n)})),U=()=>{},V=({action:e,calledOnce:t=!1,root:n=null,threshold:r=[0],rootMargin:i="0px 0px 0px 0px"})=>{const c=(0,o.useRef)(null),a=P(null!=e?e:U),s=P((([e],n)=>{if(e&&e.isIntersecting){const o=e.target;a(e),t&&n.unobserve(o)}}));return P((e=>{c.current&&c.current.disconnect(),c.current=new IntersectionObserver(s,{root:n,threshold:r,rootMargin:i}),e&&c.current.observe(e)}))},W=(...e)=>(0,o.useCallback)((t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))}),[...e]),A=(0,o.forwardRef)(((e,t)=>{const{action:n,calledOnce:o,threshold:i,root:c,rootMargin:a}=e,s=R(e,["action","calledOnce","threshold","root","rootMargin"]),l=V({action:n,calledOnce:o,threshold:i,root:c,rootMargin:a});return(0,r.jsx)("div",Object.assign({ref:W(t,l)},s,{children:e.children}))}));A.displayName="InView";const H=(0,o.forwardRef)(((e,t)=>{var{src:n,style:i,threshold:c,root:a,rootMargin:s}=e,l=R(e,["src","style","threshold","root","rootMargin"]);const d=V({action:e=>{e.target.src=n},calledOnce:!0,threshold:c,root:a,rootMargin:s}),u=(0,o.useMemo)((()=>Object.assign({display:"inline-block"},i)),[i]);return(0,r.jsx)("img",Object.assign({},l,{ref:W(t,d),style:u}))}));H.displayName="LazyImage";const Y=_()?o.useLayoutEffect:o.useEffect;(0,o.createContext)({parentPortalElement:null});const Z=({children:e,condition:t,fallback:n=null})=>{const i="function"==typeof(c=t)?c():c;var c;return(0,r.jsx)(o.Fragment,i?{children:e}:{children:n})},q=({condition:e,cases:t,defaultCaseComponent:n=null})=>{var i;return(0,r.jsx)(o.Fragment,null==e?{children:n}:{children:null!==(i=t[e])&&void 0!==i?i:n})},G=()=>{const[e,t]=(0,o.useState)(!1),n=(0,o.useRef)(!1);return{isLoading:e,blockMultipleClick:e=>N(void 0,void 0,void 0,(function*(){n.current||(n.current=!0,t(!0),yield e(),n.current=!1,t(!1))}))}},J=()=>{const[e,t]=(0,o.useState)(null),n=(0,o.useCallback)((e=>N(void 0,void 0,void 0,(function*(){try{const n=yield z(e);return t(n),!0}catch(e){return console.error(e.message),t(null),!1}}))),[]),r=(0,o.useCallback)((({src:e,toText:n=!1})=>N(void 0,void 0,void 0,(function*(){try{const o=yield(({src:e,toText:t=!1})=>F(void 0,0,void 0,(function*(){if(!_())throw new Error("Cannot be executed unless it is a client environment.");try{if(!("clipboard"in window.navigator))return yield B(e);if(!("write"in window.navigator.clipboard))return yield B(e);if(t)return yield B(e);const n=yield((e,t="png")=>new Promise(((n,o)=>{const r=new Image;r.onload=()=>F(void 0,0,void 0,(function*(){const e=document.createElement("canvas");e.width=r.width,e.height=r.height;try{const o=e.getContext("2d");if(!o)throw new Error("Failed to get 2d context");o.drawImage(r,0,0);const i=yield((e,t)=>new Promise(((n,o)=>{e.toBlob((e=>{e?n(e):o(new Error(`Failed to create blob with format ${t}`))}),t)})))(e,$[t]);n(i)}catch(e){console.error(`Failed to load image. message: ${e.mesaage}`),o(e)}})),r.onerror=()=>{o(new Error("Failed to load image"))},r.src=e})))(e,"png");return yield navigator.clipboard.write([new ClipboardItem({[n.type]:n})]),n}catch(e){throw console.error(`Copying to the clipboard failed. message: ${e.message}`),e}})))({src:e,toText:n});return t(o),!0}catch(e){return console.error(e.message),t(null),!1}}))),[]);return{copiedData:e,copyText:n,copyImage:r}},K=e=>!!_()&&window.matchMedia(e).matches,Q=e=>{const[t,n]=(0,o.useState)(K(e)),r=(0,o.useCallback)((()=>{n(K(e))}),[e]);return(0,o.useEffect)((()=>{const t=window.matchMedia(e);return t.addEventListener("change",r),()=>t.removeEventListener("change",r)}),[e,r]),{isMatch:t}},X=e=>{const t=(0,o.useRef)(e);return(0,o.useEffect)((()=>{t.current=e}),[e]),t.current},ee=e=>{const[t,n]=(0,o.useState)({bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0}),r=(0,o.useRef)(null),i=P(e),c=(0,o.useCallback)((([e])=>{e&&(i(e),n(e.contentRect))}),[i]);return(0,o.useEffect)((()=>{const e=r.current;if("undefined"==typeof ResizeObserver)return;if(!e)return;const t=new ResizeObserver(c);return t.observe(e),()=>{t.unobserve(e)}}),[c]),{ref:r,contentRect:t}},te=(e={})=>{const{isDebounce:t=!1,wait:n=300}=e,[r,i]=(0,o.useState)({width:null,height:null}),c=(0,o.useCallback)((()=>{i({width:window.innerWidth,height:window.innerHeight})}),[]),a=S(c,n),s=P(a),l=(0,o.useMemo)((()=>t?s:c),[c,t,s]);return Y((()=>(c(),window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)})),[c,l]),r}}}]);